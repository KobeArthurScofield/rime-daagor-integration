# Rime schema
# encoding: utf-8

schema:
  name: '大狗注音（精業排布）'
  schema_id: daagornt.rscm.chingyeh
  author:
    - '鍵盤排列 精業資訊'
    - '專案匯集 丢狼'
  description: |
    注音符號輸入專案
  version: '2.0.0.1904.beta'
  icon: daagornt.icon.imetw.ico
  ascii_icon: daagornt.icon.ascii.ico

switches:
  __include: daagornt.lib.shared.yaml:/zh_tw/switches

engine:
  __include: daagornt.lib.shared.yaml:/engines

speller:
  alphabet: "2wsx3edcrfvtgb6yhnujm-['8ik,9ol.0p;/= qaz1"
  initials: "2wsx3edcrfvtgb6yhnujm-['8ik,9ol.0p;/="
  finals: ' qaz1'
  delimiter: "`"
  auto_select: false
  use_space: true
  algebra:
    __patch:
      - daagornt.lib.dict-cmn-pan.yaml:/algebra/normalizer
      - daagornt.lib.dict-cmn-pan.yaml:/algebra/encoder
      - daagornt.lib.babel-cmn-pan.yaml:/phonetic_symbols/output
      - daagornt.lib.scribe-cmn-pan.yaml:/phonetic_symbols/output
      - /rule_convert/layout

translator:
  __patch:
    - daagornt.lib.shared.yaml:/translator
    - daagornt.lib.dict-cmn-pan.yaml:/translator
  prism: daagornt.chingyeh
  preedit_format:
    __include: daagorxp.lib.preedit-cmn-pan.yaml:/chingyeh?
  comment_format:
    __include: daagorxp.lib.comment-cmn-pan.yaml:/phonetic_symbols?

history:
  __include: daagornt.lib.shared.yaml:/history

custom_phrase:
  __include: daagornt.lib.shared.yaml:/custom_phrase

ascii_char:
  __include: daagornt.lib.shared.yaml:/ascii_char

ascii_phrase:
  __include: daagornt.lib.shared.yaml:/ascii_phrase

quick_phrase:
  __include: daagornt.lib.shared.yaml:/quick_phrase

grammar:
  __include: daagornt.lib.dict-cmn-pan.yaml:/grammar

punctuator:
  __include: daagornt.lib.shared.yaml:/punctuator

key_binder:
  __include: daagornt.lib.shared.yaml:/key_binder
  bindings:
    - { when: has_menu, accept: comma, send: comma }
    - { when: has_menu, accept: period, send: period }
    - { when: has_menu, accept: semicolon, send: semicolon }
    - { when: has_menu, accept: slash, send: slash }
    - { when: has_menu, accept: minus, send: minus }
    - { when: has_menu, accept: braketleft, send: bracketleft }
    - { when: has_menu, accept: apostrophe, send: apostrophe }
    - { when: has_menu, accept: equal, send: equal }

recognizer:
  __include: daagornt.lib.shared.yaml:/recognizer

menu:
  __include: daagornt.lib.shared.yaml:/menu_narrow
  alternative_select_keys: "457]\\"
  alternative_select_labels: [ '4', '5', '7', ']', '\' ]

style:
  __include: daagornt.lib.shared.yaml:/zh_tw/style?

editor:
  __include: daagornt.lib.shared.yaml:/editor

ascii_composer:
  __include: daagornt.lib.shared.yaml:/ascii_composer

zh_cn_simp:
  __include: daagornt.lib.dict-cmn-pan.yaml:/zh_cn_simp

zh_cn_trad:
  __include: daagornt.lib.dict-cmn-pan.yaml:/zh_cn_trad

zh_tw:
  __include: daagornt.lib.dict-cmn-pan.yaml:/zh_tw

zh_hk:
  __include: daagornt.lib.dict-cmn-pan.yaml:/zh_hk

rule_convert:
  layout:
    __append:
      - 'xlit|ㄪㄫㄬ|ㄨㄋㄍ|'
      - abbrev/^(ㄅ|ㄆ|ㄇ|ㄈ|ㄉ|ㄊ|ㄋ|ㄌ|ㄍ|ㄏ|ㄐ|ㄑ|ㄒ|ㄓ|ㄔ|ㄖ|ㄗ|ㄘ|ㄙ).+$/$1/
      - abbrev/^(.+)(ˉ|ˊ|ˇ|ˋ|˙)$/$1/
      - abbrev/^(ㄅ|ㄆ|ㄇ|ㄈ|ㄉ|ㄊ|ㄋ|ㄌ|ㄍ|ㄏ|ㄐ|ㄑ|ㄒ|ㄓ|ㄔ|ㄖ|ㄗ|ㄘ|ㄙ).+(ˉ|ˊ|ˇ|ˋ|˙)$/$1$2/
      - "xlit|ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄧㄨㄩㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦˉˊˇˋ˙|2wsx3edcrfvtgb6yhnujm-['8ik,9ol.0p;/= qaz1|"
  preedit:
    __append:
      - "xlit|2wsx3edcrfvtgb6yhnujm-['8ik,9ol.0p;/= qaz1`|ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄧㄨㄩㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦˉˊˇˋ˙ |"
