# RIME: Shared component library for Daagor Integration
# encoding: utf-8#
# Ver: 1.25.269.0
#
# Note: The font settings in Weasel and Squirrel are different for font weight, so fallback is required.

engines:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - fluid_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - affix_segmentor@quick_phrase
    - affix_segmentor@extchar
    - fallback_segmentor
  translators:
    - echo_translator
    - punct_translator
    - script_translator
    - table_translator@custom_phrase
    - table_translator@ascii_phrase
    - table_translator@ascii_char
    - table_translator@quick_phrase
    - table_translator@extchar
    - history_translator@history
  filters:
    - simplifier@zh_cn_simp
    - simplifier@zh_cn_trad
    - simplifier@zh_tw
    - simplifier@zh_hk

translator:
  enable_sentence: true
  contextual_suggestions: true
  enable_user_dict: true
  db_class: userdb
  spelling_hints: 4
  always_show_comments: true
  enable_correction: false # Will map to nearby keys, which may have consequense
  initial_quality: 12

history:
  closing_tips: 【歷史】
  size: 10
  input: prev
  initial_quality: 15

custom_phrase:
  enable_charset_filter: false
  enable_encoder: false
  encode_commit_history: false
  enable_completion: true
  sentence_over_completion: false
  enable_sentence: false
  enable_user_dict: true
  dictionary: ""
  user_dict: daagornt.custom.custom_phrase
  db_class: stabledb
  initial_quality: 14

ascii_phrase:
  enable_charset_filter: false
  enable_encoder: false
  encode_commit_history: false
  enable_completion: true
  sentence_over_completion: false
  enable_sentence: false
  enable_user_dict: true
  dictionary: ""
  user_dict: daagornt.lib.asciiphrase
  db_class: stabledb
  initial_quality: 12

ascii_char:
  enable_charset_filter: false
  enable_encoder: false
  encode_commit_history: false
  enable_completion: true
  sentence_over_completion: false
  enable_sentence: false
  enable_user_dict: true
  dictionary: ""
  user_dict: daagornt.lib.asciichar
  db_class: stabledb
  initial_quality: 11

quick_phrase:
  enable_charset_filter: false
  enable_encoder: false
  encode_commit_history: false
  enable_completion: true
  sentence_over_completion: false
  enable_sentence: false
  enable_user_dict: true
  dictionary: ""
  user_dict: daagornt.lib.quickphrase
  db_class: stabledb
  initial_quality: 13
  tag: quick_phrase

extchar:
  enable_charset_filter: false
  enable_encoder: true
  encode_commit_history: true
  enable_completion: true
  sentence_over_completion: true
  enable_sentence: true
  enable_user_dict: true
  dictionary: ""
  user_dict: daagorxp.lib.extchar
  db_class: stabledb
  initial_quality: 1
  tag: extchar

key_binder:
  import_preset: daagorxp.lib.keybinder

punctuator:
  import_preset: daagorxp.lib.punctuation
  digit_separators: ",."
  digit_separator_action: commit

recognizer:
  patterns:
    email: "^[A-Za-z][-_.0-9A-Za-z]*@.*$"
    uppercase: "[A-Z][-_+.'0-9A-Za-z]*$"
    url: "^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]+[.].+$"
    punct: "^`([0-9]0?|[A-Za-z]+)$"
    quick_phrase: "^(A|C[aiqz]|D[itz]|L[CD]|Mc|N[cfst]|Pa|T[CDHMW]|S[sEHS])[-_0-9A-Za-z]*$"
    extchar: "^(B5|C[56HMT]|G0|HC|ST|ZM)[0-9a-z]+$"

menu:
  page_size: 6

menu_narrow:
  page_size: 5

editor:
  bindings:
    space: confirm
    Return: commit_composition
    Shift+Return: commit_script_text
    Control+Return: commit_raw_input
    Control+Shift+Return: commit_comment
    BackSpace: back
    Delete: delete
    Control+BackSpace: back_syllable
    Control+Delete: delete_candidate
    Control+Shift+BackSpace: revert
    Escape: cancel

ascii_composer:
  good_old_caps_lock: true
  switch_key:
    Shift_L: inline_ascii
    Shift_R: inline_ascii
    Control_L: noop
    Control_R: noop
    Alt_L: noop
    Alt_R: noop
    Meta_L: set_ascii_mode
    Meta_R: unset_ascii_mode
    Super_L: set_ascii_mode
    Super_R: unset_ascii_mode
    Hyper_L: set_ascii_mode
    Hyper_R: unset_ascii_mode
    Caps_Lock: clear
    Eisu_toggle: clear

zh_cn_simp:
  switches:
    - name: ascii_mode
      states: ['中文', 'ABC']
      abbrev: ['中', 'ABC']
    - name: full_shape
      states: ['窄字', '全宽字']
      abbrev: ['窄', '宽']
    - name: ascii_punct
      states: ['。，', '. , ']
      abbrev: ['。，', '. , ']
    - options:
        - zh_cn_simp
        - zh_cn_trad
        - zh_tw
        - zh_hk
      states:
        - 字型 简体用字
        - 字型 傳統用字
        - 字型 臺灣用字
        - 字型 港澳用字
      abbrev: ['陆', '陸', '臺', '港']
      reset: 0
  zh_cn_simp:
    option_name: zh_cn_simp
    opencc_config: daagornt.noop.json
    tips: all
    inherit_comment: true
  zh_cn_trad:
    option_name: zh_cn_trad
    opencc_config: s2t.json
    tips: all
    inherit_comment: true
  zh_tw:
    option_name: zh_tw
    opencc_config: s2twp.json
    tips: all
    inherit_comment: true
  zh_hk:
    option_name: zh_hk
    opencc_config: s2hk.json
    tips: all
    inherit_comment: true
  style:
    font_face: 'Noto Sans SC:semi_light, Noto Sans SC-semi_light'
    label_font_face: 'Noto Sans SC:semi_light, Noto Sans SC-semi_light'
    comment_font_face: 'Noto Sans SC:semi_light, Noto Sans SC-semi_light'
    inline_preedit: true

zh_cn_trad:
  switches:
    - name: ascii_mode
      states: ['中文', 'ABC']
      abbrev: ['中', 'ABC']
    - name: full_shape
      states: ['窄字', '全寬字']
      abbrev: ['窄', '寬']
    - name: ascii_punct
      states: ['。，', '. , ']
      abbrev: ['。，', '. , ']
    - options:
        - zh_cn_trad
        - zh_tw
        - zh_hk
        - zh_cn_simp
      states:
        - 字型 傳統用字
        - 字型 臺灣用字
        - 字型 港澳用字
        - 字型 简体用字
      abbrev: ['陸', '臺', '港', '陆']
      reset: 0
  zh_cn_simp:
    option_name: zh_cn_simp
    opencc_config: t2s.json
    tips: all
    inherit_comment: true
  zh_cn_trad:
    option_name: zh_cn_trad
    opencc_config: daagornt.noop.json
    tips: all
    inherit_comment: true
  zh_tw:
    option_name: zh_tw
    opencc_config: t2tw.json
    tips: all
    inherit_comment: true
  zh_hk:
    option_name: zh_hk
    opencc_config: t2hk.json
    tips: all
    inherit_comment: true
  style:
    font_face: 'Noto Sans SC:semi_light, Noto Sans SC-semi_light'
    label_font_face: 'Noto Sans SC:semi_light, Noto Sans SC-semi_light'
    comment_font_face: 'Noto Sans SC:semi_light, Noto Sans SC-semi_light'
    inline_preedit: true

zh_tw:
  switches:
    - name: ascii_mode
      states: ['中文', 'ABC']
      abbrev: ['中', 'ABC']
    - name: full_shape
      states: ['窄字', '全寬字']
      abbrev: ['窄', '寬']
    - name: ascii_punct
      states: ['。，', '. , ']
      abbrev: ['。，', '. , ']
    - options:
        - zh_tw
        - zh_hk
        - zh_cn_trad
        - zh_cn_simp
      states:
        - 字型 臺灣用字
        - 字型 港澳用字
        - 字型 傳統用字
        - 字型 简体用字
      abbrev: ['臺', '港', '陸', '陆']
      reset: 0
  zh_cn_simp:
    option_name: zh_cn_simp
    opencc_config: tw2sp.json
    tips: all
    inherit_comment: true
  zh_cn_trad:
    option_name: zh_cn_trad
    opencc_config: tw2t.json
    tips: all
    inherit_comment: true
  zh_tw:
    option_name: zh_tw
    opencc_config: daagornt.noop.json
    tips: all
    inherit_comment: true
  zh_hk:
    option_name: zh_hk
    opencc_config: daagornt.tw2hk.json
    tips: all
    inherit_comment: true
  style:
    font_face: 'Noto Sans TC:semi_light, Noto Sans TC-semi_light'
    label_font_face: 'Noto Sans TC:semi_light, Noto Sans TC-semi_light'
    comment_font_face: 'Noto Sans TC:semi_light, Noto Sans TC-semi_light'
    inline_preedit: true

zh_hk:
  switches:
    - name: ascii_mode
      states: ['中文', 'ABC']
      abbrev: ['中', 'ABC']
    - name: full_shape
      states: ['窄字', '全寬字']
      abbrev: ['窄', '寬']
    - name: ascii_punct
      states: ['。，', '. , ']
      abbrev: ['。，', '. , ']
    - options:
        - zh_hk
        - zh_tw
        - zh_cn_trad
        - zh_cn_simp
      states:
        - 字型 港澳用字
        - 字型 臺灣用字
        - 字型 傳統用字
        - 字型 简体用字
      abbrev: ['港', '臺', '陸', '陆']
      reset: 0
  zh_cn_simp:
    option_name: zh_cn_simp
    opencc_config: hk2s.json
    tips: all
    inherit_comment: true
  zh_cn_trad:
    option_name: zh_cn_trad
    opencc_config: hk2t.json
    tips: all
    inherit_comment: true
  zh_tw:
    option_name: zh_tw
    opencc_config: daagornt.hk2tw.json
    tips: all
    inherit_comment: true
  zh_hk:
    option_name: zh_hk
    opencc_config: daagornt.noop.json
    tips: all
    inherit_comment: true
  style:
    font_face: 'Noto Sans HK:semi_light, Noto Sans HK-semi_light'
    label_font_face: 'Noto Sans HK:semi_light, Noto Sans HK-semi_light'
    comment_font_face: 'Noto Sans HK:semi_light, Noto Sans HK-semi_light'
    inline_preedit: true
