# RIME: Shared component library for Daagor Integration
# encoding: utf-8#
# Ver: 1.25.273.0
#

engines:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - fluid_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - affix_segmentor@quick_phrase
    - fallback_segmentor
  translators:
    - echo_translator
    - punct_translator
    - script_translator
    - table_translator@custom_phrase
    - table_translator@ascii_phrase
    - table_translator@ascii_char
    - table_translator@quick_phrase
    - history_translator@history
  filters:
    - simplifier@zh_cn_simp
    - simplifier@zh_cn_trad
    - simplifier@zh_tw
    - simplifier@zh_hk

translator:
  enable_sentence: true
  contextual_suggestions: true
  enable_user_dict: true
  db_class: userdb
  spelling_hints: 4
  always_show_comments: true
  enable_correction: false # Will map to nearby keys, which may have consequense
  initial_quality: 12

history:
  closing_tips: 【歷史】
  size: 5
  input: prev
  initial_quality: 15

custom_phrase:
  enable_charset_filter: false
  enable_encoder: false
  encode_commit_history: false
  enable_completion: true
  sentence_over_completion: false
  enable_sentence: false
  enable_user_dict: true
  dictionary: ""
  user_dict: daagornt.custom.custom_phrase
  db_class: stabledb
  initial_quality: 14

ascii_phrase:
  enable_charset_filter: false
  enable_encoder: false
  encode_commit_history: false
  enable_completion: true
  sentence_over_completion: false
  enable_sentence: false
  enable_user_dict: true
  dictionary: ""
  user_dict: daagornt.lib.asciiphrase
  db_class: stabledb
  initial_quality: 3

ascii_char:
  enable_charset_filter: false
  enable_encoder: false
  encode_commit_history: false
  enable_completion: true
  sentence_over_completion: false
  enable_sentence: false
  enable_user_dict: true
  dictionary: ""
  user_dict: daagornt.lib.asciichar
  db_class: stabledb
  initial_quality: 2

quick_phrase:
  enable_charset_filter: false
  enable_encoder: false
  encode_commit_history: false
  enable_completion: true
  sentence_over_completion: false
  enable_sentence: false
  enable_user_dict: true
  dictionary: ""
  user_dict: daagornt.lib.quickphrase
  db_class: stabledb
  initial_quality: 3
  tag: quick_phrase

key_binder:
  import_preset: default

punctuator:
  import_preset: default

recognizer:
  import_preset: default
  patterns:
    quick_phrase: "^(A|C[aiqz]|D[itz]|L[CD]|Mc|N[cfst]|Pa|T[CDHMW]|S[sEHS])[-0-9A-Za-z]*$"

#
# 6211 8981 7b56 9a6c 5954 817e 5411 4f60 6000 4e2d 89e3 5f00 601d 5ff5 7684 8c1c 5343 5e74 7684 68a6
# 7a7f 8d8a 832b 832b 4e91 6d77 84dd 5929 4f9d 65e7 9a6c 7434 54cd 8d77 5fc3 4e8b 77ac 95f4 6d88 878d
# 6211 8981 7b56 9a6c 5954 817e 65e0 5c3d 82cd 7a79 5377 843d 4e00 8def 98ce 96e8 817e 8d77 5f69 8679
# 6f02 6cca 5728 4f60 5fc3 6d77 5e78 798f 4f9d 65e7 6e05 98ce 4e00 7f15 524d 4e16 4eca 751f 76f8 9022
# 51e4 51f0 4f20 5947 7b56 9a6c 5954 817e
# 8bcd 9646 65b0 6865 66f2 5f90 4e00 9e23
#

menu:
  page_size: 6

menu_narrow:
  page_size: 5

editor:
  bindings:
    # Default bindings
    space: confirm
    Return: commit_composition
    Shift+Return: commit_script_text
    Control+Return: commit_raw_input
    Control+Shift+Return: commit_comment
    BackSpace: back
    Delete: delete
    Control+BackSpace: back_syllable
    Control+Delete: delete_candidate
    Escape: cancel

ascii_composer:
  import_preset: default

zh_cn_simp:
  switches:
    - name: ascii_mode
      states: ['中文', 'ABC']
      abbrev: ['中', 'ABC']
    - name: full_shape
      states: ['窄字', '全宽字']
      abbrev: ['窄', '宽']
    - name: ascii_punct
      states: ['。，', '. , ']
      abbrev: ['。，', '. , ']
    - options:
        - zh_cn_simp
        - zh_cn_trad
        - zh_tw
        - zh_hk
      states:
        - 字型 简体用字
        - 字型 傳統用字
        - 字型 臺灣用字
        - 字型 港澳用字
      abbrev: ['陆', '陸', '臺', '港']
      reset: 0
  zh_cn_simp:
    option_name: zh_cn_simp
    opencc_config: daagornt.noop.json
    tips: all
    inherit_comment: true
  zh_cn_trad:
    option_name: zh_cn_trad
    opencc_config: s2t.json
    tips: all
    inherit_comment: true
  zh_tw:
    option_name: zh_tw
    opencc_config: s2twp.json
    tips: all
    inherit_comment: true
  zh_hk:
    option_name: zh_hk
    opencc_config: s2hk.json
    tips: all
    inherit_comment: true

zh_cn_trad:
  switches:
    - name: ascii_mode
      states: ['中文', 'ABC']
      abbrev: ['中', 'ABC']
    - name: full_shape
      states: ['窄字', '全寬字']
      abbrev: ['窄', '寬']
    - name: ascii_punct
      states: ['。，', '. , ']
      abbrev: ['。，', '. , ']
    - options:
        - zh_cn_trad
        - zh_tw
        - zh_hk
        - zh_cn_simp
      states:
        - 字型 傳統用字
        - 字型 臺灣用字
        - 字型 港澳用字
        - 字型 简体用字
      abbrev: ['陸', '臺', '港', '陆']
      reset: 0
  zh_cn_simp:
    option_name: zh_cn_simp
    opencc_config: t2s.json
    tips: all
    inherit_comment: true
  zh_cn_trad:
    option_name: zh_cn_trad
    opencc_config: daagornt.noop.json
    tips: all
    inherit_comment: true
  zh_tw:
    option_name: zh_tw
    opencc_config: t2tw.json
    tips: all
    inherit_comment: true
  zh_hk:
    option_name: zh_hk
    opencc_config: t2hk.json
    tips: all
    inherit_comment: true

zh_tw:
  switches:
    - name: ascii_mode
      states: ['中文', 'ABC']
      abbrev: ['中', 'ABC']
    - name: full_shape
      states: ['窄字', '全寬字']
      abbrev: ['窄', '寬']
    - name: ascii_punct
      states: ['。，', '. , ']
      abbrev: ['。，', '. , ']
    - options:
        - zh_tw
        - zh_hk
        - zh_cn_trad
        - zh_cn_simp
      states:
        - 字型 臺灣用字
        - 字型 港澳用字
        - 字型 傳統用字
        - 字型 简体用字
      abbrev: ['臺', '港', '陸', '陆']
      reset: 0
  zh_cn_simp:
    option_name: zh_cn_simp
    opencc_config: tw2sp.json
    tips: all
    inherit_comment: true
  zh_cn_trad:
    option_name: zh_cn_trad
    opencc_config: tw2t.json
    tips: all
    inherit_comment: true
  zh_tw:
    option_name: zh_tw
    opencc_config: daagornt.noop.json
    tips: all
    inherit_comment: true
  zh_hk:
    option_name: zh_hk
    opencc_config: daagornt.tw2hk.json
    tips: all
    inherit_comment: true

zh_hk:
  switches:
    - name: ascii_mode
      states: ['中文', 'ABC']
      abbrev: ['中', 'ABC']
    - name: full_shape
      states: ['窄字', '全寬字']
      abbrev: ['窄', '寬']
    - name: ascii_punct
      states: ['。，', '. , ']
      abbrev: ['。，', '. , ']
    - options:
        - zh_hk
        - zh_tw
        - zh_cn_trad
        - zh_cn_simp
      states:
        - 字型 港澳用字
        - 字型 臺灣用字
        - 字型 傳統用字
        - 字型 简体用字
      abbrev: ['港', '臺', '陸', '陆']
      reset: 0
  zh_cn_simp:
    option_name: zh_cn_simp
    opencc_config: hk2s.json
    tips: all
    inherit_comment: true
  zh_cn_trad:
    option_name: zh_cn_trad
    opencc_config: hk2t.json
    tips: all
    inherit_comment: true
  zh_tw:
    option_name: zh_tw
    opencc_config: daagornt.hk2tw.json
    tips: all
    inherit_comment: true
  zh_hk:
    option_name: zh_hk
    opencc_config: daagornt.noop.json
    tips: all
    inherit_comment: true
